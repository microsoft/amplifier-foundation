bundle:
  name: behavior-agents
  version: 2.0.0
  description: |
    Agent orchestration capability - delegate tool and delegation patterns.
    Provides the infrastructure for agent delegation without specifying
    which agents to include. Agent selection is owned by root bundles
    and other behaviors that compose this one.
    
    Features:
    - Two-parameter context inheritance (depth + scope)
    - Short session ID resolution (6+ chars)
    - Fixed tool inheritance (agent declarations honored)
    - Multi-agent collaboration patterns

tools:
  # New delegate tool - recommended for new development
  - module: tool-delegate
    source: ./modules/tool-delegate
    config:
      features:
        self_delegation:
          enabled: true
        session_resume:
          enabled: true
        context_inheritance:
          enabled: true
          max_turns: 10
        provider_selection:
          enabled: true
      settings:
        exclude_tools: [delegate]  # Spawned agents can't further delegate by default
        exclude_hooks: []
        timeout: 300

  # Legacy task tool - maintained for backwards compatibility
  # Consider migrating to delegate tool for new features
  - module: tool-task
    source: git+https://github.com/microsoft/amplifier-module-tool-task@main
    config:
      exclude_tools: [tool-task, delegate]  # Prevent both tools from spawning

context:
  include:
    - foundation:context/agents/delegation-instructions.md
    - foundation:context/agents/multi-agent-patterns.md
